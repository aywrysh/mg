<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dynex</title>
  <!-- Ø®Ø· Ø¬ÙˆØ¬Ù„ -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø¬ÙˆØ¬Ù„ -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,0,0" rel="stylesheet">
  <style>
    :root{
      --gray:#C7C7C7;      /* Ø§Ù„Ø±Ù…Ø§Ø¯ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ */
      --accent:#F36523;    /* Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ */
      --ink:#0f172a; --muted:#6b7280; --line:#e5e7eb;
      --top:54px; --bottom:72px; --radius:14px;
      --top-icon:#1E3A8A;  /* Ø£Ø²Ø±Ù‚ ØºØ§Ù…Ù‚ Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
    }
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    body{margin:0;font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;color:var(--ink);background:#fff;min-height:100dvh;overflow-x:hidden}

    /* ===== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ===== */
    .appbar{position:fixed;top:0;inset-inline:0;height:var(--top);z-index:40;background:var(--gray);display:flex;align-items:center;justify-content:space-between;padding:4px 10px;box-shadow:0 1px 0 #bfbfbf}
    .exit{width:40px;height:40px;border-radius:12px;background:#fff;border:1px solid #d3d3d3;display:grid;place-items:center;cursor:pointer;color:var(--accent)}
    .exit::before{display:none}
    .icon-btn{width:40px;height:40px;border-radius:12px;background:#fff;border:1px solid #d3d3d3;display:grid;place-items:center;cursor:pointer;position:relative;overflow:hidden;color:var(--top-icon)}
    .icon-btn .ms{font-family:'Material Symbols Rounded';font-size:22px;line-height:1}
    .accent-line{height:3px;background:var(--accent)}

    /* ===== Ø§Ù„Ø­Ø§ÙˆÙŠØ© ===== */
    .page{width:min(460px,92vw);margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:12px;padding-top:calc(var(--top) + 16px);padding-bottom:calc(var(--bottom) + 8px + env(safe-area-inset-bottom));min-height:calc(100dvh - var(--top) - var(--bottom));}

    /* ===== Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ===== */
    .balance{position:relative;border-radius:18px;padding:14px;padding-inline-start:52px;overflow:hidden;isolation:isolate;box-shadow:0 14px 28px rgba(0,0,0,.06)}
    .balance::before{content:"";position:absolute;inset:0;background:linear-gradient(145deg,#dcdcdc,#cfcfcf);border-radius:inherit;z-index:-2}
    .balance::after{content:"";position:absolute;inset:1px;background:linear-gradient(180deg,rgba(255,255,255,.6),rgba(255,255,255,.08));border-radius:16px;box-shadow:inset 0 1px 0 rgba(255,255,255,.7);z-index:-1}
    .shine{position:absolute;top:-20%;left:-40%;width:40%;height:140%;background:linear-gradient(100deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 100%);transform:skewX(-15deg);animation:shine 7s linear infinite;mix-blend-mode:screen}
    @keyframes shine{0%{left:-40%}50%{left:60%}100%{left:140%}}
    .bal{text-align:end}
    .bal h4{margin:0 0 2px;font-weight:800;font-size:14px}
    .amt{font-size:26px;font-weight:800;line-height:1}
    .sub{margin-top:4px;color:#374151;font-size:12px}
    .id{margin-top:8px;display:flex;align-items:center;gap:8px}
    .chip{background:#fff;border:1px solid #d1d5db;border-radius:10px;padding:5px 8px;cursor:pointer;font-size:12px}
    .eye{position:absolute;top:8px;inset-inline-start:8px;z-index:2;background:#fff;border:1px solid #d8d8d8;border-radius:10px;width:36px;height:32px;display:grid;place-items:center;cursor:pointer}
    .masked .amt,.masked .amt2{letter-spacing:2px}

    /* ===== Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± ===== */
    .grid6{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:8vh 0 10px}
    .tile{background:#f3f3f3;border:1px solid #e3e3e3;border-radius:12px;padding:14px;display:grid;place-items:center;gap:6px;text-decoration:none;color:inherit;position:relative;overflow:hidden;box-shadow:0 6px 14px rgba(15,39,77,.06)}
    .tile .mi{font-family:'Material Symbols Rounded';font-size:24px;color:#0f274d}
    .tile .label{font-weight:700;font-size:13px}

    /* ===== Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ (Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©/Ø­Ø³Ø§Ø¨ÙŠ) ===== */
    .view{display:none} .view.active{display:block}

    /* ===== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ ===== */
    .tabbar{position:fixed;inset-inline:0;bottom:0;height:var(--bottom);z-index:40;background:var(--gray);box-shadow:0 -1px 0 #bfbfbf;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px calc(8px + env(safe-area-inset-bottom));}
    .tab{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;text-decoration:none;color:#1f2937;font-weight:700;font-size:12px;flex:1;height:calc(var(--bottom) - 16px);}
    .tab .mi{font-family:'Material Symbols Rounded';font-size:24px;line-height:1;color:#0f274d}
    .tab.active .mi{color:var(--accent)}

    /* Ø²Ø± ØªØ¯Ø§ÙˆÙ„ */
    .fab-wrap{position:absolute;left:50%;transform:translateX(-50%);bottom:26px;text-align:center}
    .fab{width:62px;height:62px;border-radius:50%;background:var(--accent);color:#fff;display:grid;place-items:center;text-decoration:none;font-weight:800;box-shadow:0 0 0 4px #fff, 0 12px 28px rgba(243,101,35,.35);position:relative;overflow:hidden}
    .fab .mi{font-size:26px}
    .fab-caption{margin-top:4px;font-weight:800;font-size:12px}

    /* ===== Bottom Sheet ===== */
    .sheet-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;visibility:hidden;transition:.25s;z-index:60}
    .sheet{position:fixed;left:0;right:0;bottom:0;background:#fff;border-radius:16px 16px 0 0;box-shadow:0 -10px 30px rgba(0,0,0,.2);transform:translateY(100%);transition:.3s;z-index:61;padding:12px 14px}
    .sheet.active{transform:translateY(0)}
    .sheet-backdrop.active{opacity:1;visibility:visible}
    .sheet .grab{width:36px;height:4px;border-radius:3px;background:#e5e7eb;margin:4px auto 10px}
    .sheet .langs{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .sheet .langs button{padding:10px;border:1px solid #e5e7eb;border-radius:10px;background:#fff;cursor:pointer;font-weight:700}
    .sheet .langs button.active{border-color:#0ea5e9;box-shadow:0 0 0 3px rgba(14,165,233,.15)}

    /* Ripple */
    .ripple{position:absolute;border-radius:50%;transform:scale(0);background:rgba(0,0,0,.18);animation:ripple .6s linear;pointer-events:none}
    @keyframes ripple{to{transform:scale(3);opacity:0}}

    .ms,.mi{font-family:'Material Symbols Rounded';font-variation-settings:'FILL' 0,'wght' 600,'GRAD' 0,'opsz' 24;line-height:1}
    .tab span{line-height:1.2;text-align:center}

    /* Ø£Ø²Ø±Ø§Ø± ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ + ØªÙˆØ³Øª */
    .exit-actions{display:flex;gap:10px;margin-top:8px}
    .exit-actions button{flex:1;padding:12px;border-radius:12px;border:1px solid var(--line);font-weight:800;cursor:pointer}
    .btn-blue{background:#;color:#fff;border-color:#60A5FA}
    .btn-orange{background:var(--accent);color:#fff;border-color:var(--accent)}
    .toast{position:fixed;bottom:calc(var(--bottom) + 10px);left:50%;transform:translateX(-50%) scale(.96);background:rgba(17,17,17,.92);color:#fff;padding:8px 12px;border-radius:10px;font-weight:800;font-size:12px;opacity:0;pointer-events:none;transition:opacity .25s, transform .25s;z-index:70;box-shadow:0 6px 16px rgba(0,0,0,.2)}
    .toast.show{opacity:1;transform:translateX(-50%) scale(1)}

    /* ===== ØªÙ†Ø³ÙŠÙ‚ ØµÙØ­Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ (Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©) ===== */
    .acct-card{background:#f7f7f8;border:1px solid #ececec;border-radius:20px;overflow:hidden;box-shadow:0 14px 28px rgba(0,0,0,.05)}
    .acct-hero{height:120px;position:relative;background:linear-gradient(180deg,#F36523 0%,#ffa466 100%)}
    .acct-hero::after{content:"";position:absolute;inset:0;background:radial-gradient(120px 60px at 20% -10%, rgba(255,255,255,.6), transparent 60%),radial-gradient(120px 60px at 80% -10%, rgba(255,255,255,.6), transparent 60%)}
    .acct-avatar{position:absolute;left:50%;top:120px;transform:translate(-50%,-50%);width:96px;height:96px;border-radius:50%;background:#fff;border:3px solid #fff;box-shadow:0 10px 24px rgba(0,0,0,.15);display:grid;place-items:center;overflow:hidden}
    .acct-avatar img{width:100%;height:100%;object-fit:cover}
    .acct-body{padding:56px 16px 16px}
    .acct-name{display:flex;align-items:center;gap:8px;padding:6px 8px;border-bottom:2px solid #e5e7eb;margin:0 8px 10px}
    .acct-name input{border:none;outline:none;background:transparent;font-weight:800;font-size:16px;flex:1}
    .acct-tags{margin:14px 8px;display:flex;align-items:center;justify-content:space-between;background:#f9c6a7;border-radius:16px;padding:10px 20px;color:#421e10}
    .acct-tags .tag{display:flex;align-items:center;gap:8px}
    .acct-tags .tag strong{font-weight:900}
    .acct-tags .divider{width:1px;height:22px;background:#e46f33;opacity:.6}
    .acct-tags .copy{border:none;background:#fff;border-radius:10px;padding:6px;width:34px;height:30px;display:grid;place-items:center}
    .acct-list{display:grid;gap:12px;margin:16px 6px 6px}
    .acct-item{display:flex;align-items:center;gap:10px;background:#fff;border:1px solid #ececec;border-radius:16px;padding:12px 14px;box-shadow:0 6px 14px rgba(15,39,77,.05)}
    .acct-item .lead{color:#0f274d}
    .acct-item .tail{margin-inline-start:auto;color:#9aa4b2}
    
    
    /* Ø¯Ø§Ø®Ù„ ØµÙØ­Ø© Ø§Ù„Ù€ CSS Ø§Ù„Ø¹Ø§Ù…Ø© */
.acct-list a,
.acct-list a:link,
.acct-list a:visited,
.acct-list a:hover,
.acct-list a:active {
  color: #000;              /* Ø£Ø³ÙˆØ¯ ØµØ§ÙÙŠ */
  text-decoration: none;    /* Ø¨Ø¯ÙˆÙ† Ø®Ø· ØªØ­Øª */
}

.acct-item {
  color: #000;              /* ÙŠÙˆØ±Ù‘Ø« Ù„Ù„Ø£Ø³Ø·Ø± Ø¯Ø§Ø®Ù„Ù‡Ø§ */
  -webkit-tap-highlight-color: transparent; /* Ù„Ù…Ø³Ø© Ø£Ù†Ø¸Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ */
}

/* Ù„Ùˆ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§Ø®Ù„ span.txt ÙˆØ¸Ù‡Ø± Ø£Ø²Ø±Ù‚ØŒ Ù†Ø®Ù„ÙŠÙ‡ ÙŠØ±Ø« Ø§Ù„Ù„ÙˆÙ† */
.acct-item .txt { color: inherit; }
    
    
/* === Ø´Ø±ÙŠØ· Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù…ØªØ­Ø±Ù‘Ùƒ === */
.tx-ticker {
  width: 80%;
  margin: 12px auto;       /* ÙŠØ®Ù„ÙŠÙ‡ ÙÙŠ Ø§Ù„ÙˆØ³Ø· Ø£ÙÙ‚ÙŠÙ‹Ø§ */
  display: flex;
  justify-content: center; /* ÙŠÙˆØ³Ù‘Ø· Ø¯Ø§Ø®Ù„ÙŠÙ‹Ø§ */
}

.tx-viewport {
  --rows: 2; /* Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø± Ø§Ù„Ø¸Ø§Ù‡Ø±Ø© */
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #fff;
  overflow: hidden;
  height: calc(var(--rows) * 44px);
  margin: 0 auto;          /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„Ø¨ÙˆÙƒØ³ Ù†ÙØ³Ù‡ */
  box-shadow: 0 4px 10px rgba(0,0,0,.06); /* Ù„Ù…Ø³Ø© Ø¸Ù„ Ø®ÙÙŠÙØ© */
}

.tx-track {
  will-change: transform;
  transition: transform .45s ease;
}

.txi {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 44px;
  padding: 0 12px;
  border-bottom: 1px dashed #eee;
  font-size: 14px;          /* Ø­Ø¬Ù… Ø®Ø· Ù…Ù†Ø§Ø³Ø¨ */
}
.txi:last-child { border-bottom: 0; }

.txl {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 800;
  color: #0f172a;
}

.txa {
  font-weight: 900;
  color: #111827;
}

.badge {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 999px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
} 
    
    /* === Ù‚Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø¯Ø§Ø¹Ù…Ø© === */
.partners {
  width: 100%;
  margin: 30px 0;
  text-align: center;
}

.partners h3 {
  margin: 0 0 6px;
  font-size: 18px;
  font-weight: 900;
  color: #0f172a;
}

.partners p {
  margin: 0 0 24px;
  font-size: 14px;
  color: #6b7280;
}

.partner-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 18px;
  max-width: 440px;
  margin: 0 auto;
}

.partner {
  background: #fff;
  border: 1px solid #ececec;
  border-radius: 16px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 14px rgba(0, 0, 0, .06);
  transition: transform .2s ease, box-shadow .2s ease;
}

.partner:hover {
  transform: translateY(-4px) scale(1.03);
  box-shadow: 0 10px 20px rgba(0, 0, 0, .12);
}

.partner img {
  max-width: 65%;
  max-height: 65%;
  object-fit: contain;
}
    
    
    
  </style>
  
  
   <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#e5e7eb">


<link rel="icon" type="image/png" sizes="32x32" href="32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="16x16.png">
<link rel="shortcut icon" href="/favicon.ico">

<!-- iOS -->
<link rel="apple-touch-icon" sizes="180x180" href="icon.png">

<!-- Android / PWA -->
<link rel="manifest" href="/site.webmanifest">

<!-- Safari pinned tab (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#e5e7eb">

<!-- Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†Ø¸Ø§Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->

<meta name="msapplication-TileColor" content="#e5e7eb">
  


<!-- ØªØ­Ø³ÙŠÙ† ØªØ­Ù…ÙŠÙ„ Ø®Ø· Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª + Ù…Ù†Ø¹ ÙˆÙ…ÙŠØ¶Ù‡ ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙØ­Ø© Ù…Ø¤Ù‚ØªÙ‹Ø§ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,0,0"
      onload="this.rel='stylesheet'">
<noscript>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,0,0">
</noscript>

<style>
  /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù…Ø¤Ù‚ØªÙ‹Ø§ + Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙØ­Ø© Ù„Ø­ÙŠÙ† Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ© */
  html.icons-wait .ms,
  html.icons-wait .mi { visibility: hidden; }
  html.app-wait body { visibility: hidden; }
</style>


</head>


<script>
  /* ÙØ¹Ù‘Ù„ Ø§Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¢Ù†ØŒ ÙˆØ£Ø²Ù„Ù‘Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¹Ù†Ø¯ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ø®Ø·ÙˆØ· */
  document.documentElement.classList.add('icons-wait','app-wait');
  window.__fontsReady = Promise.race([
    (document.fonts ? document.fonts.ready : Promise.resolve()),
    new Promise(r => setTimeout(r, 1500)) // Ø­Ø¯Ù‘ Ø£Ù…Ø§Ù† Ù„Ùˆ Ø§Ù„Ø®Ø· ØªØ£Ø®Ù‘Ø±
  ]).then(function(){
    document.documentElement.classList.remove('icons-wait');
  });
</script>


<body>
  <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
  <header class="appbar">
    <button class="exit ripple-container" id="backBtn" title="Ø®Ø±ÙˆØ¬"><span class="ms">arrow_back_ios_new</span></button>
    <div style="display:flex;gap:8px;align-items:center">
      <!-- Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø£Ù„ÙˆØ§Ù† Ø²ÙØ±Ù‚ ÙˆØ¨Ø±ØªÙ‚Ø§Ù„ÙŠ) -->
    <button class="icon-btn ripple-container" id="supportBtn" title="Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"><span class="ms">headset_mic</span></button>

<!-- Ø¬Ø¯ÙŠØ¯: Ø²Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
<!-- Ø²Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
<!-- Ø²Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Ø¶Ø¹Ù‡ Ø¨Ø¬Ø§Ù†Ø¨ supportBtn) -->
<!-- Ø²Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø¨Ø¬Ø§Ù†Ø¨ Ø²Ø± Ø§Ù„Ø¯Ø¹Ù… -->
<!-- Ø²Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ø§Ù„ØªÙˆØ¨ Ø¨Ø§Ø± -->
<button class="icon-btn ripple-container" id="messagesBtn" title="Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø±ÙƒØ©" style="position:relative">
  <span class="ms">notifications</span>
  <span id="msgDot"
        style="position:absolute;top:2px;inset-inline-start:2px;width:10px;height:10px;border-radius:50%;
               background:#ef4444;display:none;box-shadow:0 0 0 2px #fff"></span>
</button>


<button class="icon-btn ripple-container" id="installBtn" title="ØªØ«Ø¨ÙŠØª ÙƒØªØ·Ø¨ÙŠÙ‚" style="display:none">
  <span class="ms">download_for_offline</span>
</button>

<!-- (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ØªÙˆØ³Øª Ø¹Ø§Ù… Ø¥Ù† ÙƒØ§Ù† Ø¹Ù†Ø¯Ùƒ Ø¹Ù†ØµØ± #toast ÙÙŠ ØµÙØ­ØªÙƒ -->

<button class="icon-btn ripple-container" id="langBtn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©" 
        style="font-weight:800;color:var(--accent);font-size:24px;">
  <span class="material-symbols-rounded">g_translate</span>
</button>
    </div>
  </header>
  <div class="accent-line"></div>

  <main class="page">
    <!-- ===== Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ===== -->
    <section id="view-home" class="view active">
      <div class="balance" id="balanceCard">
        <div class="shine"></div>
        <button class="eye ripple-container" id="toggleAmounts" title="Ø¥Ø¸Ù‡Ø§Ø±"><span class="ms">visibility</span></button>
        <div class="bal" id="balData">
          <h4 data-i18n="balance_title">Ø§Ù„Ø±ØµÙŠØ¯</h4>
          <div class="amt" data-val="-.--"></div>
          <div class="sub" data-i18n="locked">Ù…Ø¨Ù„Øº Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ù…Ù‚ÙÙ„</div>
          <div class="sub amt2" data-val="-.--">0.00</div>
          <div class="id"><span id="homeIdLabel">ID</span><button class="chip ripple-container" id="copyId" data-i18n="copy">Ù†Ø³Ø®</button></div>
        </div>
      </div>




<!-- âœ… Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
<div id="annBack"></div>

<!-- âœ… Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† (Ù†ÙØ³ Ø§Ù„Ù€ID Ø§Ù„Ù‚Ø¯ÙŠÙ…) -->
<div id="annSheet" role="dialog" aria-modal="true">
  <!-- Ø¹Ù†Ø§ØµØ± Ø¯ÙŠÙƒÙˆØ± -->
  <span class="ann-blob a1"></span>
  <span class="ann-blob a2"></span>
  <span class="ann-blob a3"></span>
  <span class="ann-shine"></span>

  <!-- Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ø£Ù†ÙŠÙ‚ -->
  <div class="ann-head">
    <div class="ann-badge">
      <span class="dot"></span>
      <span class="txt">Ø¥Ø¹Ù„Ø§Ù†</span>
    </div>
    <button id="annClose" class="ann-x" title="Ø¥ØºÙ„Ø§Ù‚">
      <span class="x-ic">âœ•</span>
    </button>
  </div>

  <!-- ØµÙˆØ±Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© -->
  <div id="annHero" class="ann-hero" style="display:none">
    <img id="annImg" alt="announcement">
  </div>

  <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ -->
  <h3 id="annTitle" class="ann-title">Ø¹Ø±Ø¶ Ø®Ø§Øµ</h3>
  <div id="annBody" class="ann-body">â€”</div>

  <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
  <div class="ann-actions">
    <button id="annHide" class="btn ghost">Ø¹Ø¯Ù… Ø§Ù„Ø¶Ù‡ÙˆØ± Ù…Ø¬Ø¯Ø¯Ù‹ </button>
    <button id="annAction" class="btn cta" style="display:none">ÙØªØ­</button>
  </div>
</div>

<!-- ğŸ¨ Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ÙØ®Ù… -->
<style>
  /* Ø®Ù„ÙÙŠØ© Ù…ÙØ¹ØªÙ…Ø© Ù…Ø¹ Ø¶Ø¨Ø§Ø¨ */
  #annBack{
    position:fixed; inset:0; background:rgba(15,23,42,.55);
    backdrop-filter: blur(6px);
    opacity:0; visibility:hidden; transition:.25s; z-index:998;
  }
  /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
  #annSheet{
    position:fixed; left:50%; top:50%; transform:translate(-50%,-50%) scale(.96);
    width:min(92vw,560px); max-height:min(86vh,720px); overflow:auto;
    background:linear-gradient(180deg,rgba(255,255,255,.78),rgba(255,255,255,.62));
    border:1px solid rgba(255,255,255,.6);
    border-radius:22px; padding:18px 16px 16px;
    box-shadow:0 40px 120px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.4) inset;
    backdrop-filter: blur(10px) saturate(1.2);
    opacity:0; visibility:hidden; transition:opacity .32s ease, transform .32s ease;
    z-index:999; isolation:isolate;
  }
  /* Ù„Ù…Ø¹Ø© ØªÙ…Ø±Ù‘ */
  .ann-shine{
    position:absolute; inset:-30% -10% auto -10%;
    height:120px; background:linear-gradient(90deg,transparent,rgba(255,255,255,.55),transparent);
    transform:rotate(8deg); filter:blur(10px); pointer-events:none; opacity:.35;
    animation:shine 3.8s linear infinite;
  }
  @keyframes shine{
    0%{transform:translateX(-40%) rotate(8deg)} 100%{transform:translateX(120%) rotate(8deg)}
  }

  /* ÙÙ‚Ø§Ø¹Ø§Øª Ø¯ÙŠÙƒÙˆØ± */
  .ann-blob{
    position:absolute; filter:blur(18px); opacity:.55; z-index:-1;
    border-radius:50%;
  }
  .ann-blob.a1{ width:140px;height:140px; right:-30px; top:-30px; background:radial-gradient(circle at 30% 30%, #ffd3bf, #f36523);}
  .ann-blob.a2{ width:160px;height:160px; left:-40px; bottom:-40px; background:radial-gradient(circle at 70% 70%, #c0e7ff, #1e3a8a);}
  .ann-blob.a3{ width:90px;height:90px; left:50%; top:-24px; transform:translateX(-50%); background:radial-gradient(circle, #ffe8ce, #f59e0b); opacity:.4}

  /* Ø¥Ø·Ø§Ø± Ù…ØªÙˆÙ‡Ù‘Ø¬ Ù…ØªØ­Ø±Ùƒ */
  #annSheet::before{
    content:""; position:absolute; inset:-2px; border-radius:24px;
    background:conic-gradient(from 0deg, #f36523, #ffb37f, #60a5fa, #1e3a8a, #f36523);
    z-index:-1; animation:borderSpin 6s linear infinite;
    -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite:xor; mask-composite:exclude;
    padding:1.5px;
  }
  @keyframes borderSpin { to { transform:rotate(360deg); } }

  /* Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
  .ann-head{
    display:flex; align-items:center; justify-content:space-between; gap:8px; margin:2px 2px 10px;
  }
  .ann-badge{
    display:inline-flex; align-items:center; gap:8px;
    background:linear-gradient(180deg,#fff,rgba(255,255,255,.7));
    border:1px solid rgba(0,0,0,.06); padding:8px 12px; border-radius:999px;
    box-shadow:0 6px 16px rgba(243,101,35,.14);
    font-weight:900; color:#0f172a;
  }
  .ann-badge .dot{width:10px;height:10px;border-radius:50%;background:#F36523;box-shadow:0 0 0 4px rgba(243,101,35,.14)}
  .ann-x{
    width:40px;height:40px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;cursor:pointer;
    display:grid;place-items:center;font-weight:900; transition:transform .18s, box-shadow .18s;
  }
  .ann-x:hover{ transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.08); }
  .ann-x .x-ic{font-size:18px; line-height:1}

  /* Ø§Ù„ØµÙˆØ±Ø© */
  .ann-hero{
    border-radius:16px; overflow:hidden; border:1px solid #f1f5f9; margin:6px 0 12px;
    box-shadow:0 10px 30px rgba(0,0,0,.08);
  }
  .ann-hero img{ display:block; width:100%; height:auto; }

  /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ */
  .ann-title{
    margin:2px 0 6px; text-align:center; font-weight:900; font-size:22px; color:#0f172a;
    letter-spacing:.2px;
  }
  .ann-body{
    text-align:center; color:#374151; font-size:15px; line-height:1.9;
    padding:0 6px;
  }

  /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
  .ann-actions{
    display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:14px;
  }
  .btn{
    min-width:148px; padding:12px 16px; border-radius:14px; font-weight:900; cursor:pointer;
    border:1px solid #e5e7eb; background:#fff; color:#0f172a;
    transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
  }
  .btn.ghost:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(0,0,0,.08); }
  .btn.cta{
    background:linear-gradient(180deg,#f97316,#f36523);
    color:#fff; border-color:#f36523; box-shadow:0 10px 28px rgba(243,101,35,.35);
    position:relative; overflow:hidden;
  }
  .btn.cta::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,.35),transparent);
    transform:translateX(-120%); transition:transform .6s ease;
  }
  .btn.cta:hover{ transform:translateY(-1px) scale(1.01); }
  .btn.cta:hover::after{ transform:translateX(120%); }

  /* Ø­Ø§Ù„Ø§Øª Ø§Ù„ÙØªØ­ ÙˆØ§Ù„Ø¥ØºÙ„Ø§Ù‚ â€” Ù†ÙØ³ Ù…Ù†Ø·Ù‚Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØºÙŠÙ‘Ø± opacity/visibility/transform */
  #annBack.active{ opacity:1; visibility:visible; }
  #annSheet.active{ opacity:1; visibility:visible; transform:translate(-50%,-50%) scale(1); }
</style>



      <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± 3 Ã— 2 -->
  <div class="grid6">
  <a class="tile ripple-container" href="index2.html">
    <span class="mi">account_balance_wallet</span>
    <span class="label" data-i18n="deposit">Ø¥ÙŠØ¯Ø§Ø¹</span>
  </a>

  <a class="tile ripple-container" href="index8.html">
    <span class="mi">payments</span>
    <span class="label" data-i18n="withdraw">Ø³Ø­Ø¨</span>
  </a>

  <a class="tile ripple-container" href="index4.html">
    <span class="mi">sync_alt</span>
    <span class="label" data-i18n="transfer">ØªØ­ÙˆÙŠÙ„</span>
  </a>

  <a class="tile ripple-container" href="index5.html">
    <span class="mi">account_balance</span>
    <span class="label" data-i18n="deposit_to">Ø¥ÙŠØ¯Ø§Ø¹ Ø§Ù„Ù‰(Ø­)</span>
  </a>

  <a class="tile ripple-container" href="index6.html">
    <span class="mi">receipt_long</span>
    <span class="label" data-i18n="details">Ø§Ù„ØªÙØ§ØµÙŠÙ„</span>
  </a>

  <a class="tile ripple-container" href="index9.html">
    <span class="mi">group_add</span>
    <span class="label" data-i18n="invite">Ø¯Ø¹ÙˆØ© ØµØ¯ÙŠÙ‚</span>
  </a>
</div>

<!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ÙˆÙ‡Ù…ÙŠØ© (Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨) -->
<!-- Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø¯Ø§Ø¹Ù…Ø© -->
<div class="partners">
  <h3>Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø¯Ø§Ø¹Ù…Ø©</h3>
  <p>Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ¯Ø¹Ù… Ù…Ù†ØµØªÙ†Ø§ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ©</p>
  <div class="partner-grid">
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©.png" alt="Binance"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©1.png" alt="OKX"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©2.png" alt="Huobi"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©3" alt="KuCoin"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©4" alt="Coinbase"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©5" alt="Gate.io"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©6" alt="Bitfinex"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©7" alt="Kraken"></div>
    <div class="partner"><img src="Ø§Ù„Ø´Ø±ÙŠÙƒØ§Ø©8" alt="Bybit"></div>
  </div>
</div>


          
          <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
<div class="sheet-backdrop" id="msgBack"></div>
<div class="sheet" id="msgSheet" aria-modal="true" role="dialog" style="max-width:520px;margin:0 auto">
  <div class="grab"></div>
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
    <h3 style="margin:0">Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø±ÙƒØ©</h3>
    <button class="btn" id="msgClose" title="Ø¥ØºÙ„Ø§Ù‚"><span class="ms">close</span></button>
  </div>
  <div id="msgList" style="display:grid;gap:10px;max-height:60vh;overflow:auto"></div>
</div>

<!-- ØµÙˆØª ØªÙ†Ø¨ÙŠÙ‡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
<audio id="msgSnd" preload="auto">
  <source src="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAA..." type="audio/mpeg">
</audio>


<div class="tx-ticker">
  <div class="tx-viewport">
    <div class="tx-track" id="txTrack" aria-live="polite"></div>
  </div>
</div>

    </section>

<!-- Ø´Ø±ÙŠØ· Ù…Ø¹Ø§Ù…Ù„Ø§Øª (Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨) Ù…ØªØ­Ø±Ù‘Ùƒ -->
  

    <!-- ===== Ø­Ø³Ø§Ø¨ÙŠ (Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©) ===== -->
    <section id="view-account" class="view">
      <div class="acct-card">
        <div class="acct-hero"></div>

        <!-- Ø£ÙØ§ØªØ§Ø± ÙŠÙØªØ­ Ø§Ù„Ù…Ø¹Ø±Ø¶ -->
        <button class="acct-avatar ripple-container" id="pickAvatar" title="ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©">
          <img id="avatarImg" alt="avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='24' r='14' fill='%23ddd'/%3E%3Cpath d='M6 62c4-14 16-22 26-22s22 8 26 22' fill='%23ddd'/%3E%3C/svg%3E">
          <input type="file" id="avatarFile" accept="image/*" hidden>
        </button>

        <div class="acct-body">
          <div class="acct-name">
            <span class="mi">person</span>
            <input id="acctName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" value="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        </div>

          <div class="acct-tags">
            <div class="tag phone"><span> Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„  </span><strong id="acctPhone" dir="ltr"></strong></div>
            <div class="divider"></div>
            <div class="tag id">
              <span>ID</span><strong id="acctId"></strong>
              <button class="copy ripple-container" id="copyIdAcc" title="Ù†Ø³Ø®"><span class="ms">content_copy</span></button>
            </div>
          </div>
          
          

          
          

         <div class="acct-list">
  <a class="acct-item ripple-container" href="index10.html" data-go="edit">
    <span class="mi lead">edit</span>
    <span class="txt">ØªØºÙŠÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
    <span class="mi tail">chevron_left</span>
  </a>

  <a class="acct-item ripple-container" href="index11.html" data-go="appeal">
    <span class="mi lead">report</span>
    <span class="txt">Ø§Ø¹ØªØ±Ø§Ø¶</span>
    <span class="mi tail">chevron_left</span>
  </a>

  <a class="acct-item ripple-container" href="index12.html" data-go="lang">
    <span class="mi lead">language</span>
    <span class="txt">Ù„ØºØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
    <span class="mi tail">chevron_left</span>
  </a>

  <a class="acct-item ripple-container" href="index13.html" data-go="delete">
    <span class="mi lead">delete_forever</span>
    <span class="txt">Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙŠ</span>
    <span class="mi tail">chevron_left</span>
  </a>

  <a class="acct-item ripple-container" href="index14.html" data-go="logout">
    <span class="mi lead">logout</span>
    <span class="txt">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
    <span class="mi tail">chevron_left</span>
  </a>
</div>
        </div>
      </div>
    </section>
  </main>

 <nav class="tabbar">
  <a class="tab ripple-container" id="tab-account" href="#">
    <span class="mi">account_circle</span>
    <span>Ø­Ø³Ø§Ø¨ÙŠ</span>
  </a>
  
  <div class="fab-wrap">
    <a class="fab ripple-container" id="tab-trade" href="index7.html">
      <span class="mi">trending_up</span>
    </a>
    <div class="fab-caption">ØªØ¯Ø§ÙˆÙ„</div>
  </div>
  
  <a class="tab ripple-container active" id="tab-home" href="#">
    <span class="mi">home</span>
    <span>Ø§Ù„ØµÙØ­Ù‡ Ø§Ù„Ø±Ø§Ø¦Ø³ÙŠ</span>
  </a>
</nav>

  <!-- ===== Bottom Sheet Ø§Ù„Ù„ØºØ© ===== -->
  <div class="sheet-backdrop" id="sheetBack"></div>
  <div class="sheet" id="langSheet">
    <div class="grab"></div>
    <div class="langs">
      <button data-setlang="ar" id="btnAr">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
      <button data-setlang="en" id="btnEn">English</button>
      
    </div>
  </div>

  <!-- Bottom Sheet ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
  <div class="sheet-backdrop" id="sheetBackExit"></div>
  <div class="sheet" id="exitSheet">
    <div class="grab"></div>
    <h3 style="text-align:center;margin:6px 0 10px">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ</h3>
    <div class="exit-actions">
      <button class="btn-blue ripple-container" id="exitNo">Ø¥Ù„ØºØ§Ø¡</button>
      <button class="btn-orange ripple-container" id="exitYes">Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Ù…Ù„Ù Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ù…ÙˆØ­Ø¯ -->
  <script src="i18n.js"></script>

<script src="12i18n.js"></script>

  <script>
    // ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø©
    const views={home:document.getElementById('view-home'),account:document.getElementById('view-account')};
    function show(name){Object.values(views).forEach(v=>v.classList.remove('active'));views[name].classList.add('active');document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.getElementById('tab-'+(name==='home'?'home':'account')).classList.add('active');window.scrollTo({top:0,behavior:'instant'});}    
    document.getElementById('tab-home').onclick=()=>show('home');
    document.getElementById('tab-account').onclick=()=>show('account');
    document.getElementById('tab-trade').onclick=()=>window.location.href='index3.html';

    // ÙØªØ­ ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø±
    const routes={deposit:'deposit.html',withdraw:'withdraw.html',transfer:'transfer.html','deposit-account':'deposit-account.html',details:'details.html',invite:'invite.html'};
    document.querySelectorAll('.tile[data-open]').forEach(el=>{
      el.addEventListener('click',(ev)=>{ev.preventDefault(); ripple(ev); const key=el.dataset.open; if(routes[key]) window.location.href=routes[key];});
    });

    // Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ â†’ Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯ Ø®Ø±ÙˆØ¬
    const exitSheet=document.getElementById('exitSheet');
    const exitBack=document.getElementById('sheetBackExit');
    const exitYes=document.getElementById('exitYes');
    const exitNo=document.getElementById('exitNo');
    document.getElementById('backBtn').onclick=(e)=>{ripple(e); exitSheet.classList.add('active'); exitBack.classList.add('active');};
    function closeExit(){ exitSheet.classList.remove('active'); exitBack.classList.remove('active'); }
    exitBack.onclick=closeExit; exitNo.onclick=(e)=>{ ripple(e); closeExit(); };
    exitYes.onclick=(e)=>{ ripple(e); window.location.replace('index.html'); };

    // Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
    document.getElementById('supportBtn').onclick=()=>window.open('https://t.me/artikarbot','_blank');

    // Ù†Ø³Ø® ID + ØªÙˆØ³Øª ØµØºÙŠØ± (Ø³ÙŠÙØ³ØªØ¨Ø¯Ù„ Ø¨Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„)
    function showToast(msg){ const t=document.getElementById('toast'); if(!t) return; t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1400); }

    // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ù„Øº
    const balBox=document.getElementById('balData');
    const eyeBtn=document.getElementById('toggleAmounts');
    let hidden=false;
    function updateEyeLabels(lang){ const show=(lang==='ar')?'Ø¥Ø¸Ù‡Ø§Ø±':'Show'; const hide=(lang==='ar')?'Ø¥Ø®ÙØ§Ø¡':'Hide'; const label = hidden ? show : hide; eyeBtn.title = label; eyeBtn.setAttribute('aria-label', label); }
    function renderAmounts(){ document.querySelectorAll('[data-val]').forEach(el=>{el.textContent = hidden ? 'â€¢â€¢â€¢â€¢' : el.getAttribute('data-val');}); eyeBtn.innerHTML='<span class="ms">'+(hidden?'visibility_off':'visibility')+'</span>'; }
    function toggleAmounts(e){ if(e) ripple(e); hidden=!hidden; balBox.classList.toggle('masked',hidden); renderAmounts(); updateEyeLabels(localStorage.getItem('lang')||'ar'); }
    eyeBtn.onclick=toggleAmounts; renderAmounts(); updateEyeLabels(localStorage.getItem('lang')||'ar');

    // Ù„ØºØ© Ù…Ø­ÙÙˆØ¸Ø© + Ø´ÙŠØª
    function afterLang(lang){ updateEyeLabels(lang); }
    if(typeof applyLang==='function'){ const lang=localStorage.getItem('lang')||'ar'; applyLang(lang); afterLang(lang); }
    const sheet=document.getElementById('langSheet'),back=document.getElementById('sheetBack');
    document.getElementById('langBtn').onclick=(e)=>{ripple(e);sheet.classList.add('active');back.classList.add('active');};
    back.onclick=()=>{sheet.classList.remove('active');back.classList.remove('active');};
    document.querySelectorAll('[data-setlang]').forEach(b=>b.onclick=()=>{const l=b.dataset.setlang; if(typeof applyLang==='function') applyLang(l); localStorage.setItem('lang',l); afterLang(l); back.click();});

    // Ripple Ø¹Ø§Ù…
    function ripple(ev){const t=ev.currentTarget||ev.target.closest('.ripple-container'); if(!t) return; const r=document.createElement('span'); const d=Math.max(t.clientWidth,t.clientHeight); const rect=t.getBoundingClientRect(); const x=(ev.clientX - rect.left) - d/2; const y=(ev.clientY - rect.top) - d/2; r.className='ripple'; r.style.width=r.style.height=d+'px'; r.style.left=x+'px'; r.style.top=y+'px'; const old=t.querySelector('.ripple'); if(old) old.remove(); t.appendChild(r); setTimeout(()=>r.remove(),600); }
    document.querySelectorAll('.ripple-container').forEach(el=>el.addEventListener('click', ripple));

    // ==== Ù…Ù†Ø·Ù‚ ØµÙØ­Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ ====
    (function(){
      const file = document.getElementById('avatarFile');
      const btn  = document.getElementById('pickAvatar');
      const img  = document.getElementById('avatarImg');
      if(btn && file){
        btn.addEventListener('click',()=>file.click());
        file.addEventListener('change',()=>{
          const f=file.files && file.files[0]; if(!f) return;
          const r=new FileReader(); r.onload=e=>{ img.src=e.target.result; }; r.readAsDataURL(f);
        });
      }
      const routesAcc={ edit:'profile-edit.html', appeal:'appeal.html', lang:'#langSheet', delete:'delete.html', logout:'#exitSheet' };
      document.querySelectorAll('#view-account .acct-item').forEach(a=>{
        a.addEventListener('click',(e)=>{
          ripple(e);
          const k=a.dataset.go;
          if(k==='lang'){ document.getElementById('langSheet').classList.add('active'); document.getElementById('sheetBack').classList.add('active'); return; }
          if(k==='logout'){ document.getElementById('exitSheet').classList.add('active'); document.getElementById('sheetBackExit').classList.add('active'); return; }
          const url=routesAcc[k]; if(url && !url.startsWith('#')) window.location.href=url;
        });
      });
    })();
    
    // ÙØ­Øµ Ø¥Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ­ØªÙˆÙŠ #account â†’ Ù†ÙØªØ­ ØªØ¨ÙˆÙŠØ¨ Ø­Ø³Ø§Ø¨ÙŠ Ù…Ø¨Ø§Ø´Ø±Ø©
    if(window.location.hash === '#account'){
      show('account');
    }
  </script>

  <!-- ===== Firebase (Compat) Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ ===== -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
  <script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBr3mtTHa_nJajn9H5N1V5sWNHIHY8RU8g",
      authDomain: "dynex-f4486.firebaseapp.com",
      databaseURL: "https://dynex-f4486-default-rtdb.firebaseio.com",
      projectId: "dynex-f4486",
      storageBucket: "dynex-f4486.firebasestorage.app"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // ØªØ­Ù…ÙŠÙ„ Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const session = (()=>{
      try{ return JSON.parse(localStorage.getItem('dynex_session')||'{}'); }catch(_){ return {}; }
    })();

    // Ø¹Ù†Ø§ØµØ± Ø³Ù†Ø­Ø¯Ù‘Ø«Ù‡Ø§
    const amtEl   = document.querySelector('.amt');
    const amt2El  = document.querySelector('.amt2');
    const homeIdLabel = document.getElementById('homeIdLabel');
    const copyIdBtn   = document.getElementById('copyId');

    const acctName = document.getElementById('acctName');
    const acctPhone= document.getElementById('acctPhone');
    const acctId   = document.getElementById('acctId');
    const copyIdAcc= document.getElementById('copyIdAcc');

    let currentAccountId = '000000000';

    // ØªÙ†Ø³ÙŠÙ‚ Ù…Ø¨Ø§Ù„Øº
    const fmt = n => (Number(n||0)).toFixed(2);

    // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø§Ù„Ù‚ÙŠÙ…
    function fillUI(user){
      if(!user) return;

      // Ø§Ù„Ø±ØµÙŠØ¯ + Ø§Ù„Ù…Ù‚ÙÙ„
      if(amtEl){  amtEl.setAttribute('data-val', fmt(user.balance)); }
      if(amt2El){ amt2El.setAttribute('data-val', fmt(user.lockedAmount)); }
      if(typeof renderAmounts === 'function') renderAmounts();

      // ID ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      currentAccountId = String(user.accountId||'');
      if(homeIdLabel){ homeIdLabel.textContent = 'ID ' + currentAccountId; }

      // Ø­Ø³Ø§Ø¨ÙŠ: Ø§Ù„Ø§Ø³Ù… (ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„)ØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø§Ù„Ù€ ID
      if(acctName){
        acctName.value = String(user.name||'');
        acctName.readOnly = true;
        acctName.setAttribute('aria-readonly','true');
      }
      if(acctPhone){ acctPhone.textContent = String(user.phone||''); }
      if(acctId){    acctId.textContent    = currentAccountId; }

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø³Ø®
      if(copyIdBtn){
        copyIdBtn.onclick = async (e)=>{
          ripple(e);
          try{ await navigator.clipboard.writeText(currentAccountId); showToast('ØªÙ… Ø§Ù„Ù†Ø³Ø®'); }
          catch(_){ showToast(currentAccountId); }
        };
      }
      if(copyIdAcc){
        copyIdAcc.onclick = async (e)=>{
          ripple(e);
          try{ await navigator.clipboard.writeText(currentAccountId); showToast('ØªÙ… Ø§Ù„Ù†Ø³Ø®'); }
          catch(_){ showToast(currentAccountId); }
        };
      }
    }

    // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: uid Ø«Ù… accountId Ø«Ù… name (Ø§Ø­ØªÙŠØ§Ø·ÙŠ)
    async function loadUser(){
      const { uid, accountId, name } = session || {};

      // 1) Ø¨Ø§Ù„Ù€ uid Ù…Ø¨Ø§Ø´Ø±Ø© (Ø§Ù„Ø£Ø³Ø±Ø¹)
      if(uid){
        try{
          const snap = await db.ref('users/'+uid).get();
          if(snap.exists()) return snap.val();
        }catch(_){}
      }

      // 2) Ø¨Ø­Ø« Ø¨Ø§Ù„Ù€ accountId
      if(accountId){
        try{
          const snap = await db.ref('users').orderByChild('accountId').equalTo(String(accountId)).get();
          if(snap.exists()) return Object.values(snap.val())[0];
        }catch(_){}
      }

      // 3) Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…
      if(name){
        try{
          const snap = await db.ref('users').orderByChild('name').equalTo(String(name)).get();
          if(snap.exists()) return Object.values(snap.val())[0];
        }catch(_){}
      }

      return null;
    }

    // Ø´ØºÙ‘Ù„
    (async ()=>{
      try{
        const user = await loadUser();
        if(!user){
          // Ù…Ø§ Ù†ØºÙŠÙ‘Ø± ØªØµÙ…ÙŠÙ… ÙˆÙ„Ø§ Ø£Ù„ÙˆØ§Ù†â€”ÙÙ‚Ø· ØªÙˆØ³Øª Ø¨Ø³ÙŠØ·
          const t=document.getElementById('toast'); if(t){ t.textContent='Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù„Ø³Ø© Ù…Ø³ØªØ®Ø¯Ù…'; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1600); }
          return;
        }
        fillUI(user);
      }catch(err){
        const t=document.getElementById('toast'); if(t){ t.textContent='ØªØ¹Ø°Ù‘Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1600); }
        console.error(err);
      }
    })();
  </script>
 
<style>
  /* Ø§Ù„Ø´ÙŠØª ÙŠÙØªØ­ Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
  #msgSheet{
    position:fixed; left:0; right:0; bottom:0; top:auto;
    background:#fff; border-radius:18px 18px 0 0; border:1px solid #ececec;
    max-width:520px; margin:0 auto; box-shadow:0 -8px 24px rgba(0,0,0,.12);
    transform:translateY(105%); transition:transform .30s ease; z-index:999;
  }
  #msgSheet.active{ transform:translateY(0); }

  #msgBack{
    position:fixed; inset:0; background:rgba(0,0,0,.35);
    opacity:0; visibility:hidden; transition:.25s; z-index:998;
  }
  #msgBack.active{ opacity:1; visibility:visible; }

  #msgSheet .grab{ width:48px; height:5px; border-radius:3px; background:#e5e7eb; margin:8px auto 6px; }

  /* ÙƒØ±Øª Ø±Ø³Ø§Ù„Ø© */
  .msg-card{ background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:12px; }
  .msg-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
  .msg-title{ font-weight:900; }
  .msg-time{ font-size:12px; color:#6b7280; }
  .msg-body{ margin-top:6px; line-height:1.7; }

  /* Ù‡Ø²Ù‘Ø© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø¬Ø¯ÙŠØ¯ (Ø­ØªÙ‰ ØªÙØªØ­ Ø§Ù„Ø´ÙŠØª) */
  @keyframes bellshake{
    0%{transform:rotate(0)} 20%{transform:rotate(-12deg)} 40%{transform:rotate(10deg)}
    60%{transform:rotate(-8deg)} 80%{transform:rotate(6deg)} 100%{transform:rotate(0)}
  }
  .shake{ animation:bellshake .6s ease; }
</style>


<script>
(function(){
  if (!window.firebase || !firebase.database) return;

  // Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
  const btn   = document.getElementById('messagesBtn');
  const dot   = document.getElementById('msgDot');
  const sheet = document.getElementById('msgSheet');
  const back  = document.getElementById('msgBack');
  const close = document.getElementById('msgClose');
  const list  = document.getElementById('msgList');
  const snd   = document.getElementById('msgSnd');

  if(!btn || !dot || !sheet || !back || !close || !list) return;

  // UID Ù„Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø®Ø§Øµ
  let UID = null;
  try{ const s = JSON.parse(localStorage.getItem('dynex_session')||'null'); UID = s && s.uid; }catch(_){}

  // Ù…ÙØ§ØªÙŠØ­ "Ø¢Ø®Ø± Ù…Ù‚Ø±ÙˆØ¡"
  const LS_KEY_PUBLIC  = 'lastSeen_company';
  const LS_KEY_PRIVATE = 'lastSeen_inbox';
  const getSeen = k => localStorage.getItem(k)||'';
  const setSeen = (k,v)=> localStorage.setItem(k, v||'');

  // Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©
  const db = firebase.database();
  const refPublic  = db.ref('company/messages');
  const refPrivate = UID ? db.ref('user_inbox/'+UID) : null;

  // Ø®Ø±ÙŠØ·Ø© Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„ØªÙƒØ±Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø« Ø§Ù„Ù„Ø­Ø¸ÙŠ
  const shown = new Set(); // key Ù…Ø¹ Ù…ØµØ¯Ø±Ù‡
  function keyOf(src, id){ return src + '|' + id; }

  // Ø¨Ø·Ø§Ù‚Ø© Ø±Ø³Ø§Ù„Ø©
  function cardHTML(m){
    const title = (m.title||'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†').trim();
    const body  = (m.body||m.text||'').trim().replace(/\n/g,'<br>');
    const ts    = Number(m.createdAt||0);
    const date  = ts ? new Date(ts).toLocaleString('ar-EG-u-nu-latn', { hour12:false }) : '';
    return (
      '<article class="msg-card">' +
        '<div class="msg-head">' +
          '<div class="msg-title">'+ title +'</div>' +
          '<div class="msg-time">'+ date +'</div>' +
        '</div>' +
        '<div class="msg-body">'+ (body || '<span style="color:#9ca3af">â€”</span>') +'</div>' +
      '</article>'
    );
  }

  // Ø¥Ø¯Ø±Ø§Ø¬ Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)
  function prependMessage(src, id, val){
    const k = keyOf(src,id);
    if (shown.has(k)) return;
    shown.add(k);

    const wrap = document.createElement('div');
    wrap.innerHTML = cardHTML({id, ...val});
    const node = wrap.firstChild;

    if (list.firstChild) list.insertBefore(node, list.firstChild);
    else list.appendChild(node);
  }

  // Ù†Ù‚Ø§Ø·/Ù‡Ø²Ù‘Ø© Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø¬Ø¯ÙŠØ¯ (ÙˆØ§Ù„Ø´ÙŠØª Ù…ØºÙ„Ù‚)
  async function notifyIfNew(ref, lsKey){
    const snap = await ref.orderByKey().limitToLast(1).get();
    if(!snap.exists()) return;
    let lastKey=''; snap.forEach(ch=> lastKey=ch.key);
    const hasNew = lastKey && lastKey !== getSeen(lsKey);
    if(hasNew && !sheet.classList.contains('active')){
      dot.style.display='block';
      btn.classList.add('shake'); setTimeout(()=>btn.classList.remove('shake'), 700);
      try{ if(snd){ snd.currentTime=0; snd.play().catch(()=>{}); } }catch(_){}
    }
  }

  // Ù…Ø¤Ù‚Ù‘Øª + Ø§Ø³ØªÙ…Ø§Ø¹ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø¹Ù†ØµØ± Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯
  refPublic.orderByKey().limitToLast(1).on('value', ()=>notifyIfNew(refPublic, LS_KEY_PUBLIC));
  if(refPrivate) refPrivate.orderByKey().limitToLast(1).on('value', ()=>notifyIfNew(refPrivate, LS_KEY_PRIVATE));
  setInterval(()=>{
    notifyIfNew(refPublic, LS_KEY_PUBLIC);
    if(refPrivate) notifyIfNew(refPrivate, LS_KEY_PRIVATE);
  }, 5000);

  // Ø¨Ø¯Ø¡/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨Ø« Ø§Ù„Ù„Ø­Ø¸ÙŠ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© ÙƒØ§Ù…Ù„Ø© (child_added) Ø£Ø«Ù†Ø§Ø¡ ÙØªØ­ Ø§Ù„Ø´ÙŠØª ÙÙ‚Ø·
  let offPublic = null, offPrivate = null;

  function startLive(){
    // ØªÙØ±ÙŠØº Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØªØµÙÙŠØ± Ø§Ù„Ø®Ø±ÙŠØ·Ø©
    list.innerHTML = '';
    shown.clear();

    // Ù†Ø­Ù…Ù‘Ù„ Ø¢Ø®Ø± 200 Ø±Ø³Ø§Ù„Ø© ÙÙ‚Ø· (Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø±Ù‚Ù… Ø¥Ø°Ø§ ØªØ­Ø¨)
    offPublic = refPublic.orderByKey().limitToLast(200)
      .on('child_added', snap=>{
        prependMessage('pub', snap.key, snap.val()||{});
      });

    if(refPrivate){
      offPrivate = refPrivate.orderByKey().limitToLast(200)
        .on('child_added', snap=>{
          prependMessage('priv', snap.key, snap.val()||{});
        });
    }
  }

  function stopLive(){
    if(offPublic!==null){ refPublic.off('child_added'); offPublic=null; }
    if(offPrivate!==null){ refPrivate.off('child_added'); offPrivate=null; }
  }

  // ÙˆØ³Ù… Ø§Ù„Ø£Ø­Ø¯Ø« ÙƒÙ…Ù‚Ø±ÙˆØ¡ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­ (Ø¥Ø·ÙØ§Ø¡ Ø§Ù„Ù†Ù‚Ø·Ø© ÙˆØ§Ù„Ù‡Ø²Ù‘Ø©)
  function markLatestAsRead(){
    refPublic.orderByKey().limitToLast(1).get().then(s=>s.forEach(ch=>setSeen(LS_KEY_PUBLIC, ch.key)));
    if(refPrivate) refPrivate.orderByKey().limitToLast(1).get().then(s=>s.forEach(ch=>setSeen(LS_KEY_PRIVATE, ch.key)));
    dot.style.display='none';
    btn.classList.remove('shake');
  }

  // ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´ÙŠØª
  function openMsg(){
    sheet.classList.add('active');
    back.classList.add('active');
    markLatestAsRead();
    startLive(); // Ø§Ù„Ø¢Ù† Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø³ØªØ¸Ù‡Ø± ÙÙˆØ±Ù‹Ø§ Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
  }
  function closeMsg(){
    sheet.classList.remove('active');
    back.classList.remove('active');
    stopLive();
  }

  btn  .addEventListener('click', openMsg);
  back .addEventListener('click', closeMsg);
  close.addEventListener('click', closeMsg);
})();
</script>
  



<script>
// === ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙˆØª (Ù„Ø§ ØªØºÙŠÙŠØ± Ø¹Ù„Ù‰ Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯) ===
const msgAudio = document.getElementById('msgSnd');
function playMsgSound(){
  if(!msgAudio) return;
  try {
    msgAudio.currentTime = 0;
    msgAudio.play().catch(()=>{/* ØµØ§Ù…Øª Ù„Ùˆ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø§Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ */});
  } catch(_) {}
}

// Ù„ÙØªØ­ Ø§Ù„ØµÙˆØª Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„ (Ù‚ÙŠÙˆØ¯ iOS/Android)
let soundUnlocked = false;
function unlockSoundOnce(){
  if(soundUnlocked) return;
  soundUnlocked = true;
  // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ù‚ØµÙŠØ±Ø© Ù„ÙØªØ­ Ø¥Ø°Ù† Ø§Ù„ØµÙˆØª
  msgAudio.muted = true;
  msgAudio.play().then(()=>{ msgAudio.pause(); msgAudio.muted = false; }).catch(()=>{ /* ØªØ¬Ø§Ù‡Ù„ */ });
  document.removeEventListener('click', unlockSoundOnce, true);
  document.removeEventListener('touchstart', unlockSoundOnce, true);
}
document.addEventListener('click', unlockSoundOnce, true);
document.addEventListener('touchstart', unlockSoundOnce, true);

// === Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© ===
// Ø¥Ø°Ø§ Ø¹Ù†Ø¯Ùƒ Ù…Ø±Ø¬Ø¹ Firebase Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ ØºÙŠÙ‘Ø± Ø§Ù„Ù…Ø³Ø§Ø± ÙÙ‚Ø·
// Ù…Ø«Ø§Ù„: Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø±ÙƒØ© ÙÙŠ Realtime DB ØªØ­Øª /messages/company
const MREF = (typeof firebase!=='undefined')
  ? firebase.database().ref('messages/company')
  : null;

// Ù„Ø§ Ù†Ø´ØºÙ‘Ù„ ØµÙˆØª Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
let msgsReady = false;
(async function primeMessages(){
  if(!MREF) return;
  try{
    // Ø­Ù…Ù‘Ù„ Ù…Ø±Ø© Ø¹Ø´Ø§Ù† Ù†Ø¹Ù„Ù‘Ù… Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ©
    await MREF.limitToLast(1).get();
    msgsReady = true;
  }catch(_){}
})();

// Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯
if(MREF){
  MREF.limitToLast(1).on('child_added', snap=>{
    // Ù„Ùˆ Ø§Ù„Ø¬Ø§Ù‡Ø²ÙŠØ© Ù…ÙØ¹Ù‘Ù„Ø© ÙÙ‡Ø°Ø§ Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙŠØ¯Ø©
    if(msgsReady) playMsgSound();
  });
}

// Ù…Ø«Ø§Ù„: Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ WebSocket/Fetch Ø¨Ø¯Ù„ FirebaseØŒ 
// ÙÙ‚Ø· Ø§Ø³ØªØ¯Ø¹Ù playMsgSound() Ù„Ø­Ø¸Ø© Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
</script>
  
    <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(reg => console.log("âœ” Service Worker registered"))
      .catch(err => console.error("âŒ Service Worker failed:", err));
  }
</script>
  
  
   <script>
(function(){
  const installBtn = document.getElementById('installBtn');
  let deferredPrompt = null;

  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø²Ø± Ø¥Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ø¨Ù‘Øª Ø¨Ø§Ù„ÙØ¹Ù„
  function hideIfInstalled(){
    const installed = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
    if (installed && installBtn) installBtn.style.display = 'none';
  }
  hideIfInstalled();

  // ÙŠØ´ØªØºÙ„ Ù„Ù…Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØµØ¨Ø­ Ù…Ø¤Ù‡Ù‘Ù„ Ù„Ù„ØªØ«Ø¨ÙŠØª
  window.addEventListener('beforeinstallprompt', (e)=>{
    e.preventDefault();           // Ù…Ù†Ø¹ ÙƒØ±ÙˆÙ… Ù…Ù† Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    deferredPrompt = e;           // Ù†Ø®Ø²Ù‘Ù† Ø§Ù„Ø­Ø¯Ø«
    if (installBtn) installBtn.style.display = 'grid'; // Ø£Ø¸Ù‡Ø± Ø§Ù„Ø²Ø±
  });

  // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±: Ø§ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£ØµÙ„ÙŠØ©
  installBtn?.addEventListener('click', async (ev)=>{
    try{ ripple && ripple(ev); }catch(_){}
    if (!deferredPrompt){
      // Ù…Ø´ Ù…Ø¤Ù‡Ù‘Ù„ Ø§Ù„Ø¢Ù† (Ø£Ùˆ iOS Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©)
      try{ showToast && showToast('ØºÙŠØ± Ù…ØªØ§Ø­ Ù„Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¢Ù†'); }catch(_){}
      return;
    }
    installBtn.disabled = true;
    deferredPrompt.prompt();
    const choice = await deferredPrompt.userChoice; // { outcome: 'accepted' | 'dismissed' }
    if (choice && choice.outcome === 'accepted'){
      try{ showToast && showToast('Ø¬Ø§Ø±Ù Ø§Ù„ØªØ«Ø¨ÙŠØªâ€¦'); }catch(_){}
    } else {
      try{ showToast && showToast('ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡'); }catch(_){}
    }
    deferredPrompt = null;
    installBtn.disabled = false;
    // Ù†Ø®ÙÙŠ Ø§Ù„Ø²Ø±ØŒ ÙˆØ¥Ø°Ø§ Ø£Ø±Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØ¸Ù‡Ø± Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø­ÙŠÙ† ÙŠØµØ¨Ø­ Ù…Ø¤Ù‡Ù‘Ù„
    installBtn.style.display = 'none';
  });

  // Ø¥Ø°Ø§ ØªÙ… Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¨Ù†Ø¬Ø§Ø­
  window.addEventListener('appinstalled', ()=>{
    try{ showToast && showToast('ØªÙ… Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'); }catch(_){}
    hideIfInstalled();
  });

  // Ù…Ù„Ø§Ø­Ø¸Ø©: iOS Ù„Ø§ ÙŠØ¯Ø¹Ù… beforeinstallprompt â€” Ù„Ø§Ø²Ù… â€œÙ…Ø´Ø§Ø±ÙƒØ© > Ø£Ø¶ÙÙ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©â€
  // Ù†Ù‚Ø¯Ø± Ù†Ø®ÙÙŠ Ø§Ù„Ø²Ø± Ø¹Ù„Ù‰ iOS:
  if(/iPad|iPhone|iPod/i.test(navigator.userAgent)){ if (installBtn) installBtn.style.display = 'none'; }
})();
</script>
  
  
<script>
/* Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙˆÙ‡Ù…ÙŠØ© + ØªÙ…Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 3 Ø«ÙˆØ§Ù†
   - Ø§Ø³ØªØ¨Ø¯Ø§Ù„ "Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨" Ø¨Ù€ ID Ù…Ù‚Ù†Ù‘Ø¹ Ù…Ø«Ù„ 9958&&&&&&
   - ØªÙˆØ²ÙŠØ¹ ØºÙŠØ± Ù…Ø±ØªØ¨: ÙƒÙ„ 5 Ø¹Ù†Ø§ØµØ± = 3 Ø³Ø­Ø¨ + 2 Ø¥ÙŠØ¯Ø§Ø¹ (Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø§Ù„ØªØ±ØªÙŠØ¨) */
(function(){
  const track = document.getElementById('txTrack');
  if(!track) return;

  const nets = ['BEP20','ERC20','TON','SOL','TRC20'];

  const ACTS = {
    deposit: { icon:'south_west', color:'#16a34a' }, // Ø£Ø®Ø¶Ø±
    withdraw:{ icon:'north_east', color:'#ef4444' }  // Ø£Ø­Ù…Ø±
  };

  const rnd = (min,max)=> Math.random()*(max-min)+min;
  const pickNet = ()=> nets[Math.floor(Math.random()*nets.length)];
  const makeId  = ()=> String(Math.floor(1000 + Math.random()*9000)) + '&&&';

  // Ø¯Ø§Ù„Ø© Ø®Ù„Ø· Ø¨Ø³ÙŠØ·Ø©
  function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
      const j = Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]] = [arr[j],arr[i]];
    }
    return arr;
  }

  // Ù†ÙƒÙˆÙ‘Ù† Ø¹Ù†Ø§ØµØ± Ø¨Ù€ 5-Ø­ÙØ²Ù…: (3 Ø³Ø­Ø¨ + 2 Ø¥ÙŠØ¯Ø§Ø¹) Ø¨ØªØ±ØªÙŠØ¨ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
  let items = [];
  while(items.length < 10){
    const pack = shuffle(['withdraw','withdraw','withdraw','deposit','deposit']);
    items.push(...pack);
  }
  items = items.slice(0,10);

  // Ø§Ø¨Ù†ÙŠ Ø§Ù„Ù€ HTML
  let html = '';
  for(let i=0;i<items.length;i++){
    const kind = items[i];
    const a = ACTS[kind];
    const amt = rnd(80, 520);
    const net = pickNet();
    const id  = makeId();

    html += `
      <div class="txi">
        <div class="txl">
          <span class="ms" style="color:${a.color}">${a.icon}</span>
          <span class="tx-id">ID ${id}</span>
        </div>
        <div class="txr">
          <span class="txa">${amt.toFixed(2)} USDT</span>
          <span class="badge">${net}</span>
        </div>
      </div>`;
  }
  track.innerHTML = html;

  // Ù†Ø³Ø®Ø© Ø£ÙˆÙ„ ØµÙ Ù„Ø¹Ù…Ù„ Ù„ÙØ© Ø³Ù„Ø³Ø©
  const firstClone = track.firstElementChild.cloneNode(true);
  track.appendChild(firstClone);

  const rowH   = track.firstElementChild.getBoundingClientRect().height || 44;
  const totalO = track.children.length - 1; // Ø¨Ø¯ÙˆÙ† Ø§Ù„Ù†Ø³Ø®Ø©
  let index = 0;
  let timer = null;

  function step(){
    index += 1;
    track.style.transition = 'transform .45s ease';
    track.style.transform  = `translateY(${-index*rowH}px)`;
  }

  track.addEventListener('transitionend', ()=>{
    if(index === totalO){
      track.style.transition = 'none';
      index = 0;
      track.style.transform = 'translateY(0)';
      void track.offsetHeight; // reflow
      track.style.transition = 'transform .45s ease';
    }
  });

  function start(){ if(timer) return; timer = setInterval(step, 3000); }
  function stop(){ clearInterval(timer); timer = null; }

  start();

  // Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù„Ù…Ø³
  if(track.parentElement){
    track.parentElement.addEventListener('pointerdown', stop);
    track.parentElement.addEventListener('pointerup',   start);
    track.parentElement.addEventListener('pointerleave',start);
  }

  // ØªÙˆÙÙŠØ± Ø¨Ø·Ø§Ø±ÙŠØ©
  document.addEventListener('visibilitychange', ()=> document.hidden ? stop() : start());
})();
</script>
  
  
<script>
(function(){
  if(!window.firebase || !firebase.database) return;
  const db = firebase.database();

  // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
  const back  = document.getElementById('annBack');
  const sheet = document.getElementById('annSheet');
  const hero  = document.getElementById('annHero');
  const img   = document.getElementById('annImg');
  const titleEl = document.getElementById('annTitle');
  const bodyEl  = document.getElementById('annBody');
  const btnHide = document.getElementById('annHide');
  const btnAct  = document.getElementById('annAction');
  const btnX    = document.getElementById('annClose');

  function addActive(){
    // ÙŠØ¯Ø¹Ù… Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙƒÙ„Ø§Ø³Ø§Øª Ù„Ùˆ ÙƒÙ†Øª Ù…Ø±ÙƒÙ‘Ø¨ Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
    back?.classList?.add('active');
    sheet?.classList?.add('active');
    // ÙˆÙŠØ¯Ø¹Ù… Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¥Ù†Ù„Ø§ÙŠÙ†:
    back.style.opacity = '1'; back.style.visibility = 'visible';
    sheet.style.visibility = 'visible'; sheet.style.opacity = '1';
    sheet.style.transform = 'translate(-50%,-50%) scale(1)';
    sheet.style.transitionDelay = '0s';
  }
  function removeActive(){
    back?.classList?.remove('active');
    sheet?.classList?.remove('active');
    back.style.opacity = '0'; back.style.visibility = 'hidden';
    sheet.style.opacity = '0';
    sheet.style.transform = 'translate(-50%,-50%) scale(.96)';
    sheet.style.transitionDelay = '0s';
    setTimeout(()=>{ sheet.style.visibility = 'hidden'; }, 250);
  }
  function openAnn(){ addActive(); }
  function closeAnn(){ removeActive(); }
  back.addEventListener('click', closeAnn);
  btnX && btnX.addEventListener('click', closeAnn);

  // Ù„ØºØ© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
  const uiLang = (localStorage.getItem('lang') || 'ar').toLowerCase();
  const pick = (obj) => {
    if(!obj) return '';
    const primary  = asStr(obj[uiLang]);
    const fallback = uiLang==='ar' ? asStr(obj.en) : asStr(obj.ar);
    return primary || fallback || '';
  };
  const asStr = (v)=> String(v==null?'':v).trim();

  // dynex_session: { uid, accountId }
  let UID=null, ACC=null;
  try{
    const s = JSON.parse(localStorage.getItem('dynex_session')||'null');
    UID = s && asStr(s.uid);
    ACC = s && asStr(s.accountId);
  }catch(_){}

  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†: UID â†’ AccountID â†’ Ø¹Ø§Ù…
  async function resolveAnnouncement(){
    // UID
    if(UID){
      const s = await db.ref('announcements/targetByUid/'+UID+'/latest').get().catch(()=>null);
      if(s && s.exists()) return {val:s.val(), scope:'uid', key:UID};
    }
    // AccountID
    if(ACC){
      const s = await db.ref('announcements/targetByAccountId/'+ACC+'/latest').get().catch(()=>null);
      if(s && s.exists()) return {val:s.val(), scope:'acc', key:ACC};
    }
    // Global
    const g = await db.ref('announcements/global').get().catch(()=>null);
    if(g && g.exists()) return {val:g.val(), scope:'global', key:'global'};
    return null;
  }

  function renderAndShow(ann){
    // Ø¥Ù† Ù„Ù… ØªÙˆØ¬Ø¯ Ø®Ø§ØµÙŠØ© enabled Ø§Ø¹ØªØ¨Ø±Ù‡ Ù…ÙØ¹Ù‘Ù„
    if(ann.enabled === false) return;

    const seenKey = 'ann_seen_' + (ann.id || 'global');
    if(!ann.everyOpen && localStorage.getItem(seenKey)==='1') return;

    const title = (typeof ann.title==='object') ? pick(ann.title) : asStr(ann.title||'Ø¥Ø¹Ù„Ø§Ù†');
    const body  = (typeof ann.body ==='object') ? pick(ann.body ) : asStr(ann.body||'');

    titleEl.textContent = title || 'Ø¥Ø¹Ù„Ø§Ù†';
    bodyEl.innerHTML = (body || 'â€”').replace(/\n/g,'<br>');

    if(asStr(ann.image)){
      hero.style.display='block'; img.src = ann.image;
    }else{
      hero.style.display='none'; img.removeAttribute('src');
    }

    const btnText = (typeof ann.btnText==='object') ? pick(ann.btnText) : asStr(ann.btnText);
    const btnUrl  = asStr(ann.btnUrl);
    if(btnText || btnUrl){
      btnAct.style.display='inline-block';
      btnAct.textContent = btnText || (uiLang==='ar'?'ÙØªØ­':'Open');
      btnAct.onclick = ()=>{ if(btnUrl) window.open(btnUrl, '_blank'); };
    }else{
      btnAct.style.display='none';
      btnAct.onclick = null;
    }

    btnHide.onclick = ()=>{ try{ localStorage.setItem(seenKey, '1'); }catch(_){ } closeAnn(); };

    openAnn();
  }

  // Ø§Ø¨Ø¯Ø£
  (async function init(){
    try{
      const res = await resolveAnnouncement();
      if(res && res.val){
        renderAndShow(res.val);
      } else {
        // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†
        // console.log('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ØªØ§Ø­Ø©');
      }
    }catch(err){ console.warn('announce error:', err); }
  })();
})();
</script>
  
  
  
<script>
  // Ø¹Ù†Ø¯ Ù†Ù‡Ø§ÙŠØ© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©/Ø§Ù„Ø®Ø·ÙˆØ·: Ø£Ø¸Ù‡Ø± Ø§Ù„ØµÙØ­Ø©
  if (window.__fontsReady) {
    window.__fontsReady.finally(function(){
      document.documentElement.classList.remove('app-wait');
    });
  } else {
    document.documentElement.classList.remove('app-wait');
  }
</script>
  

  
</body>
</html>